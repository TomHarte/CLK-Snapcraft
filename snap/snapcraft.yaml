name: clock-signal
confinement: strict
grade: stable
base: core22
version: '25.12.10'
summary: A Qt-based emulator of various 8- and 16-bit computers and consoles.
description: |
  A Qt-based emulator of the Acorn Electron, Amstrad CPC, Apple II/II+/IIe and
  early Macintosh, Atari 2600 and ST, ColecoVision, Commodore Vic-20 and Amiga,
  Enterprise 64/128, MSX 1/2, Oric 1/Atmos, early PC compatibles, Sega Master
  System, Sinclair ZX80/81 and ZX Spectrum.

# kf6-core22-sdk appears to exist only for amd64 and arm64; this platform restriction
# is implied by this project's dependencies.
architectures:
  - build-on: amd64
  - build-on: arm64

apps:
  clock-signal:
    command: bin/desktop-launch $SNAP/opt/clksignal/bin/clksignal
    extensions:
      - kde-neon-6
    plugs: [opengl, home, pulseaudio]

parts:
  clock-signal:
    source: https://github.com/TomHarte/CLK.git
    source-type: git
    source-branch: master    
    plugin: cmake
    cmake-parameters:
      - -DCLK_UI=Qt
      - -DCMAKE_BUILD_TYPE=Release
    build-packages:
      - qt6-base-dev
      - libqt6opengl6-dev
      - zlib1g-dev
    stage-packages:
      - libqt6core6
      - libqt6gui6
      - libqt6widgets6
      - libqt6openglwidgets6
